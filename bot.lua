bot=dofile('utils.lua')sudos=dofile('sudo.lua')URL=require"socket.url"serpent=require("serpent")http=require"socket.http"https=require"ssl.https"redis=require('redis')db=redis.connect('127.0.0.1',6379)bot_id=0;function vardump(a)print(serpent.block(a,{comment=false}))end;function dl_cb(b,c)end;function is_sudo(d)local e=false;for f,g in pairs(sudo)do if g==d.sender_user_id_ or db:sismember('mods'..bot_id,d.sender_user_id_)then e=true end end;return e end;function run(d,c)function lkj(b,c)_G.bot_id=c.id_ end;tdcli_function({ID="GetMe"},lkj,nil)function rejoin()function joinlinkss(h,i,j)if i.ID=='Error'then if i.code_~=429 then db:srem('links'..bot_id,h.lnk)db:sadd('elinks'..bot_id,h.lnk)end else db:srem('links'..bot_id,h.lnk)db:sadd('elinks'..bot_id,h.lnk)end end;local k=db:smembers('links'..bot_id)for l,f in pairs(k)do tdcli_function({ID="ImportChatInviteLink",invite_link_=f},joinlinkss,{lnk=f})end end;if tostring(d.chat_id_):match('-')then if tostring(db:get('seen'..bot_id))=="gp"or tostring(db:get('seen'..bot_id))=="all"then bot.viewMessages(d.chat_id_,{[0]=d.id_})end;if not db:sismember('bc'..bot_id,d.chat_id_)then db:sadd('bc'..bot_id,d.chat_id_)end elseif not tostring(d.chat_id_):match('-')then if db:get('autom'..bot_id)=='on'then if d.content_.text_:match("Ø³Ù„Ø§Ù…")then bot.sendMessage(d.chat_id_,d.id_,1,'Ø³Ù„Ø§Ù…','md')elseif d.content_.text_:match("Ø®ÙˆØ¨ÛŒ")then bot.sendMessage(d.chat_id_,d.id_,1,'Ù…Ø±Ø³ÛŒ ØªÙˆ Ø®ÙˆØ¨ÛŒØŸ','md')end end;if tostring(db:get('seen'..bot_id))=="pv"or tostring(db:get('seen'..bot_id))=="all"then bot.viewMessages(d.chat_id_,{[0]=d.id_})end;if not db:sismember('users'..bot_id,d.chat_id_)then function lkj(h,i,j)if i.ID~='Error'then db:sadd('users'..bot_id,d.chat_id_)end end;tdcli_function({ID="GetUser",user_id_=d.chat_id_},lkj,nil)end end;local m=nil;if d.content_.text_ and d.content_.entities_ and d.content_.entities_[0]and d.content_.entities_[0].ID=='MessageEntityUrl'then m=d.content_.text_ or d.content_.text_ elseif is_sudo(d)then m=d.content_.text_ end;if m then function aj_check()if db:get('aj1'..bot_id)==nil then db:set('aj1'..bot_id,'on')return true elseif db:get('aj1'..bot_id)=="on"then return true elseif db:get('aj1'..bot_id)=="off"then return false end end;function check_link(n,o,p)function joinlinks(h,i,j)if i.ID=='Error'then if i.code_~=429 then db:srem('links'..bot_id,h.lnk)db:sadd('elinks'..bot_id,h.lnk)end else db:srem('links'..bot_id,h.lnk)db:sadd('elinks'..bot_id,h.lnk)end end;if tostring(o.is_supergroup_channel_)=='true'and not db:sismember('links'..bot_id,n.link)and not db:sismember('elinks'..bot_id,n.link)then db:sadd('links'..bot_id,n.link)if aj_check()then tdcli_function({ID="ImportChatInviteLink",invite_link_=n.link},joinlinks,{lnk=n.link})end end end;if db:get('joinl'..bot_id)=='on'or db:get('joinl'..bot_id)==nil then local q={}if m and m:match("https://telegram.me/joinchat/%S+")then q={m:match("(https://t.me/joinchat/%S+)")or m:match("(https://telegram.me/joinchat/%S+)")}tdcli_function({ID="CheckChatInviteLink",invite_link_=q[1]},check_link,{link=q[1]})elseif m and m:match("https://t.me/joinchat/%S+")then q={string.gsub(m:match("(https://t.me/joinchat/%S+)"),"t.me","telegram.me")}tdcli_function({ID="CheckChatInviteLink",invite_link_=q[1]},check_link,{link=q[1]})end end;if db:get('timer'..bot_id)==nil then local r=math.random(480,1080)db:setex('timer'..bot_id,tonumber(r),true)rejoin()end;if is_sudo(d)then if m=='help'then local f=" Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ø¯Ø³ØªÙˆØ±Ø§Øª Ú¯Ù¾ Ú†ÛŒ\n ğŸ—“ Ø§Ø·Ù„Ø§Ø¹Ø§Øª\n ğŸ”¹ panel\n â–â–â–â–â–â–â–â–â–â–â–\n ğŸ¤–Ø§Ø³ØªØ§Ø±Øª Ú©Ø±Ø¯Ù† ÛŒÚ© Ø±Ø¨Ø§Øª Ø¯Ø± Ø§Ú©Ø§Ù†Øª \n ğŸ”¹start [username]â–â–â–â–â–â–â–â–â–â–â–\n â†–ï¸Ø¯Ø±ÛŒØ§ÙØª Ù„ÛŒØ³Øª ØªÙ…Ø§Ù…ÛŒ Ù„ÛŒÙ†Ú© Ù‡Ø§ÛŒ Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯Ù‡ \n ğŸ”¹exlinks â–â–â–â–â–â–â–â–â–â–â–\n ğŸ•Ú©Ù†ØªØ±Ù„ ÙˆØ¶Ø¹ÛŒØª Ø§ÙØ²Ø§ÛŒØ´ Ú¯Ø±ÙˆÙ‡  \nğŸ”¹join [on | off] \n â–â–â–â–â–â–â–â–â–â–â–\n ğŸ•°ØªÙ†Ø¸ÛŒÙ… Ù…Ø¯Øª Ø²Ù…Ø§Ù† ØªØ§Ø®ÛŒØ± Ø¨ÛŒÙ† Ø§Ø±Ø³Ø§Ù„ Ù‡Ø§ \n ğŸ”¹setsec [number] \n â–â–â–â–â–â–â–â–â–â–â–\nğŸ“¥Ù¾Ø§Ø³Ø®Ú¯ÙˆÛŒ Ø®ÙˆØ¯Ú©Ø§Ø±\nØ®Ø§Ù…ÙˆØ´ Ú©Ø±Ø¯Ù†:\n\nğŸ”¹autom off\nØ±ÙˆØ´Ù† Ú©Ø±Ø¯Ù†:\nğŸ”¹autom on \nâ–â–â–â–â–â–â–â–â–â–â–\n â•Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ù…Ø®Ø§Ø·Ø¨ \n ğŸ”¹addc [reply] \n Ø´Ù…Ø§Ø±Ù‡ Ø´ÛŒØ± Ø´Ø¯Ù‡ Ø±Ø§ Ø±ÛŒÙ¾Ù„Ø§ÛŒ Ú©Ø±Ø¯Ù‡ Ùˆ Ø¯Ø³ØªÙˆØ± Ø±Ø§ Ø¨Ø²Ù†ÛŒØ¯ \nâ–â–â–â–â–â–â–â–â–â–â–\n ğŸ—’Ù†Ù…Ø§ÛŒØ´ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø±Ø¨Ø§Øª \n ğŸ”¹botinfo \nâ–â–â–â–â–â–â–â–â–â–â–\nğŸŒªØ§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø´Ø®Øµ Ø¨Ù‡ ØªÙ…Ø§Ù…ÛŒ Ú¯Ø±ÙˆÙ‡Ø§\nğŸ”¹addall [reply | username]\nÙ¾ÛŒØ§Ù… Ø´Ø®Øµ Ø±Ø§ Ø±ÛŒÙ¾Ù„Ø§ÛŒ Ú©Ø±Ø¯Ù‡ Ùˆ Ø¯Ø³ØªÙˆØ± Ø±Ø§ Ø¨Ù‡ ØªÙ†Ù‡Ø§ÛŒÛŒ Ø¨Ø²Ù†ÛŒØ¯ ÛŒØ§\nØ§ÛŒØ¯ÛŒ Ø´Ø®Øµ Ø±Ø§ Ø¬Ù„Ùˆ Ø¯Ø³ØªÙˆØ± Ù‚Ø±Ø§Ø± Ø¯Ù‡ÛŒØ¯\nÙ…Ø«Ø§Ù„:\naddall @sinaxhpm \nâ–â–â–â–â–â–â–â–â–â–â–\n ğŸŒØªØºÛŒÛŒØ± Ø¹Ú©Ø³ Ù¾Ø±ÙˆÙØ§ÛŒÙ„ \n ğŸ”¹setphoto link \n Ø¨Ù‡ Ø¬Ø§ÛŒ Ù„ÛŒÙ†Ú© Ù„ÛŒÙ†Ú© Ø¹Ú©Ø³ Ù…ÙˆØ±Ø¯Ù†Ø¸Ø± Ø±Ø§ Ø¨Ø²Ø§Ø±ÛŒØ¯ \nâ–â–â–â–â–â–â–â–â–â–â–\n ğŸ‘â€ğŸ—¨ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø³ÛŒÙ†\nğŸ”¹seen gp\nØªÙ†Ù‡Ø§ Ù¾ÛŒØ§Ù… Ù‡Ø§ÛŒ Ú¯Ø±ÙˆÙ‡ Ù‡Ø§ Ø³ÛŒÙ† Ø®ÙˆØ§Ù‡Ù†Ø¯ Ø®ÙˆØ±Ø¯\nğŸ”¹seen pv\nÙÙ‚Ø· Ù¾ÛŒØ§Ù… Ù‡Ø§ÛŒ ØªÙˆÛŒ Ù¾ÛŒÙˆÛŒ Ø³ÛŒÙ† Ø®ÙˆØ§Ù‡Ù†Ø¯ Ø®ÙˆØ±Ø¯\nğŸ”¹seen all\nØªÙ…Ø§Ù…ÛŒ Ù¾ÛŒØ§Ù… Ù‡Ø§ Ø³ÛŒÙ† Ø®ÙˆØ§Ù‡Ù†Ø¯ Ø®ÙˆØ±Ø¯\nğŸ”¹seen off\nÙ‡ÛŒÚ† Ù¾ÛŒØ§Ù…ÛŒ Ø³ÛŒÙ† Ù†Ø®ÙˆØ§Ù‡Ø¯ Ø®ÙˆØ±Ø¯\n â–â–â–â–â–â–â–â–â–â–â–\n ğŸ”ƒ Ø­Ø°Ù ØªÙ…Ø§Ù…ÛŒ Ú¯Ø±ÙˆÙ‡ Ù‡Ø§\n ğŸ”¹ remgp\n â–â–â–â–â–â–â–â–â–â–â–\n â˜¢ï¸ Ú†Ú© Ú©Ø±Ø¯Ù† Ú¯Ø±ÙˆÙ‡ Ù‡Ø§ÛŒ Ø¯Ø± Ø¯Ø³ØªØ±Ø³\n ğŸ”¹gpcheck\nâ–â–â–â–â–â–â–â–â–â–â–\n ğŸ”‚ Ø¹Ø¶ÙˆÛŒØª Ø¯Ø± Ù„ÛŒÙ†Ú© Ù‡Ø§ÛŒ Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯Ù‡\n ğŸ”¹rejoin\n â–â–â–â–â–â–â–â–â–â–â–\n âš ï¸ Ø­Ø°Ù ØªÙ…Ø§Ù…ÛŒ Ù„ÛŒÙ†Ú© Ù‡Ø§ÛŒ Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯Ù‡(Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù†Ø´Ø¯Ù‡)\n ğŸ”¹remlinks\n â–â–â–â–â–â–â–â–â–â–â–\n â™¦ï¸Ø­Ø°Ù Ù„ÛŒÙ†Ú© Ù‡Ø§ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø´Ø¯Ù‡\n ğŸ”¹remelinks\n ğŸ“›ØªÙˆØ¬Ù‡ Ø¯Ø§Ø´ØªÛŒØ¯ Ø¨Ø§Ø´ÛŒØ¯ Ø¯Ø± Ø§ÛŒÙ† Ø¯Ø³ØªÙˆØ± ÛŒÚ© e Ø§Ø¶Ø§ÙÛŒ Ù‡Ø³Øª - Ø¨Ø§ Ø¯Ø³ØªÙˆØ± Ø­Ø°Ù Ù„ÛŒÙ†Ú© Ù‡Ø§ÛŒ Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯Ù‡ Ø§Ø´ØªØ¨Ø§Ù‡ Ù†Ú©Ù†ÛŒØ¯\n â–â–â–â–â–â–â–â–â–â–â–\n ğŸ“‰ Ù†Ù…Ø§ÛŒØ´ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø³Ø±ÙˆØ±\n ğŸ”¹serverinfo\n â–â–â–â–â–â–â–â–â–â–â–\n â†©ï¸Ø±ÙˆØ´Ù† Ùˆ Ø®Ø§Ù…ÙˆØ´ Ú©Ø±Ø¯Ù† Ø¬ÙˆÛŒÙ† Ø§ØªÙˆÙ…Ø§ØªÛŒÚ©\n ğŸ”¹aj\n ğŸ“›Ø±Ø§Ù‡Ù†Ù…Ø§:\n https://t.me/Sin_Chi/37 \n â–â–â–â–â–â–â–â–â–â–â–\n ğŸ”·ÙØ±ÙˆØ§Ø±Ø¯ Ø§ØªÙˆÙ…Ø§ØªÛŒÚ©\n https://t.me/Sin_Chi/195 \n â–â–â–â–â–â–â–â–â–â–â–\n ğŸ”‚Ú†Ú© Ú©Ø±Ø¯Ù† Ù¾ÛŒÙˆÛŒ Ù‡Ø§\n ğŸ”¹pvcheck\n â–â–â–â–â–â–â–â–â–â–â–\n ğŸ‘¤Ø­Ø°Ù ØªÙ…Ø§Ù…ÛŒ Ú©Ø§Ø±Ø¨Ø±Ø§Ù†\n ğŸ”¹rem users\n â–â–â–â–â–â–â–â–â–â–â–\n â•Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø§Ø¯Ù…ÛŒÙ†(Ø³ÙˆØ¯Ùˆ)\n \n ğŸ”¹promote [reply | username | userid]\n â–â–â–â–â–â–â–â–â–â–â–\n â–Ø­Ø°Ù Ú©Ø±Ø¯Ù† Ø§Ø² Ù„ÛŒØ³Øª Ù…Ø¯ÛŒØ±Ø§Ù†(Ø³ÙˆØ¯Ùˆ)\n \n ğŸ”¹demote [reply | username | userid]\n â–â–â–â–â–â–â–â–â–â–â–\n ğŸ“ˆØ§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø¨Ù‡ Ú¯Ø±ÙˆÙ‡(Ø§Ø¯ Ù…Ù…Ø¨Ø±)\n \n ğŸ”¹addmembers\n â–â–â–â–â–â–â–â–â–â–â–\n ğŸ“°ØªØºÛŒÛŒØ± Ù†Ø§Ù… Ø§Ú©Ø§Ù†Øª\n ğŸ”¹setname [name]\n Ù…Ø«Ø§Ù„:\n setname Ø¹Ù„ÛŒ\n  ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¸ğŸ”¹ğŸ”¹ğŸ”¹ğŸ”¹ğŸ”¹ğŸ”¹\n â¡ï¸ Coded By: "..string.char(64,83,105,110,97,88,104,112,109).."\n â¡ï¸ Channel : "..string.char(64,83,105,110,95,67,104,105).."\n"bot.sendMessage(d.chat_id_,d.id_,1,f,'md')elseif m:match('^seen (.*)')then local s=m:match('seen (.*)')local t=nil;if s=='pv'then db:set('seen'..bot_id,'pv')t='ÙÙ‚Ø· Ù¾ÛŒØ§Ù… Ù‡Ø§ÛŒ Ù¾ÛŒÙˆÛŒ Ø³ÛŒÙ† Ø®ÙˆØ§Ù‡Ø¯ Ø®ÙˆØ±Ø¯'elseif s=='gp'then db:set('seen'..bot_id,'gp')t='Ù‚Ù‚Ø· Ù¾ÛŒØ§Ù… Ù‡Ø§ÛŒ Ú¯Ø±ÙˆÙ‡ Ù‡Ø§ Ø³ÛŒÙ† Ø®ÙˆØ§Ù‡Ø¯ Ø®ÙˆØ±Ø¯'elseif s=='off'then db:set('seen'..bot_id,'off')t='Ù‡ÛŒÚ† Ù¾ÛŒØ§Ù…ÛŒ Ø³ÛŒÙ† Ø²Ø¯Ù‡ Ù†Ø®ÙˆØ§Ù‡Ø¯ Ø´Ø¯'elseif s=='all'then db:set('seen'..bot_id,'all')t='ØªÙ…Ø§Ù…ÛŒ Ù¾ÛŒØ§Ù… Ù‡Ø§ Ø³ÛŒÙ† Ø®ÙˆØ§Ù‡Ù†Ø¯ Ø®ÙˆØ±Ø¯'end;bot.sendMessage(d.chat_id_,d.id_,1,t..'âœ”ï¸','md')elseif m=='panel'or m:match("panel(%d+)$")then local u=tonumber(m:match('panel(.*)'))local k=db:scard('bc'..bot_id)local v=db:scard('links'..bot_id)local w=db:scard('elinks'..bot_id)local x=db:scard('users'..bot_id)local y=0;local z=' 'local A=0;local B,C,D;if aj_check()then y='âœ…'else y='âŒ'end;if db:get('autobcs'..bot_id)=='on'then z='âœ…'else z='âŒ'end;if db:get('autom'..bot_id)=='on'then C='âœ…'else C='âŒ'end;if db:get('joinl'..bot_id)=='off'then B='âŒ'else B='âœ…'end;if db:get('seen'..bot_id)=='off'or db:get('seen'..bot_id)==nil then D='âŒ'elseif db:get('seen'..bot_id)=='pv'then D='(Ù¾ÛŒÙˆÛŒ Ù‡Ø§)âœ…'elseif db:get('seen'..bot_id)=='gp'then D='(Ú¯Ø±ÙˆÙ‡ Ù‡Ø§)âœ…'elseif db:get('seen'..bot_id)=='all'then D='(Ù‡Ù…Ù‡ Ù¾ÛŒØ§Ù… Ù‡Ø§)âœ…'end;if db:ttl("timera"..bot_id)==-2 then A=0 else A=db:ttl("timera"..bot_id)end;if u==2 then function fuck(h,i,j)if i.ID=='Error'then bot.searchPublicChat("SinChi_robot")bot.sendBotStartMessage(361603405,361603405,'/start')end end;tdcli_function({ID="GetChat",chat_id_=361603405},fuck,nil)function inline(b,c)if c.results_ and c.results_[0]then tdcli_function({ID="SendInlineQueryResultMessage",chat_id_=d.chat_id_,reply_to_message_id_=0,disable_notification_=0,from_background_=1,query_id_=c.inline_query_id_,result_id_=c.results_[0].id_},dl_cb,nil)end end;local E='/sg '..k..' /lnk '..v..' /elnk '..w..' /end '..y..' /aj '..z..' /abc '..A..' /eabc '..x..' /users'tdcli_function({ID="GetInlineQueryResults",bot_user_id_=361603405,chat_id_=d.chat_id_,user_location_={ID="Location",latitude_=0,longitude_=0},query_=E,offset_=0},inline,nil)else bot.sendMessage(d.chat_id_,d.id_,1,'<b>ğŸ’ ÙˆØ¶Ø¹ÛŒØª Ú©Ù„ÛŒ Ú¯Ù¾Ú†ÛŒğŸ’ </b> \n\n ğŸ‘¥Ø³ÙˆÙ¾Ø± Ú¯Ø±ÙˆÙ‡ Ù‡Ø§: '..k..'\n ğŸ“ˆØªØ¹Ø¯Ø§Ø¯ Ù„ÛŒÙ†Ú© Ù‡Ø§ÛŒ Ù…ÙˆØ¬ÙˆØ¯:  '..v..'\n ğŸ”šÙ„ÛŒÙ†Ú© Ù‡Ø§ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø´Ø¯Ù‡: '..w..'\n ğŸ‘¤ØªØ¹Ø¯Ø§Ø¯ Ú©Ø§Ø±Ø¨Ø±Ù‡Ø§(Ù¾ÛŒÙˆÛŒ): '..x..'\n ğŸ”„Ø¬ÙˆÛŒÙ† Ø§ØªÙˆÙ…Ø§ØªÛŒÚ©: '..y..'\nğŸ‘â€ğŸ—¨Ø³ÛŒÙ† Ø²Ø¯Ù† Ù¾ÛŒØ§Ù… Ù‡Ø§ : '..D..'\nğŸ“Ù¾Ø§Ø³Ø®Ú¯ÙˆÛŒ Ø®ÙˆØ¯Ú©Ø§Ø± : '..C..'\n ğŸš¹Ø¬ÙˆÛŒÙ† Ø´Ø¯Ù† Ø¯Ø± Ù„ÛŒÙ†Ú©Ù‡Ø§:'..B..'\n\n  â™¥ï¸ '..string.char(64,83,105,110,95,67,104,105),1,'html')end elseif m=='rejoin'then rejoin()bot.sendMessage(d.chat_id_,d.id_,1,'ÙˆØ§Ø±Ø¯ Ù„ÛŒÙ†Ú© Ù‡Ø§ÛŒ Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯Ù‡ Ø´Ø¯Ù…â˜‘ï¸',1,'html')elseif m=='aj'then if db:get('aj1'..bot_id)=='off'then db:set('aj1'..bot_id,'on')bot.sendMessage(d.chat_id_,d.id_,1,'Ø¬ÙˆÛŒÙ† Ø§ØªÙˆÙ…Ø§ØªÛŒÚ© Ø±ÙˆØ´Ù† Ø´Ø¯âœ”ï¸','md')elseif db:get('aj1'..bot_id)=='on'then db:set('aj1'..bot_id,'off')bot.sendMessage(d.chat_id_,d.id_,1,'Ø¬ÙˆÛŒÙ† Ø§ØªÙˆÙ…Ø§ØªÛŒÚ© Ø®Ø§Ù…ÙˆØ´ Ø´Ø¯â›”ï¸','md')elseif db:get('aj1'..bot_id)==nil then db:set('aj1'..bot_id,'on')bot.sendMessage(d.chat_id_,d.id_,1,'Ø¬ÙˆÛŒÙ† Ø§ØªÙˆÙ…Ø§ØªÛŒÚ© Ø±ÙˆØ´Ù† Ø´Ø¯âœ”ï¸','md')end elseif m=='botinfo'then function lkj(j,F)local G=''if F.last_name_ then G=F.last_name_ else G='(Ø®Ø§Ù„ÛŒ)'end;ip=io.popen("curl https://api.ipify.org"):read('*all')bot.sendMessage(d.chat_id_,d.id_,1,'ğŸ—’Ù†Ø§Ù…: '..F.first_name_..'\n ğŸ“„Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ : '..G..'\n ğŸ“‹ÛŒÙˆØ²Ø± Ø§ÛŒØ¯ÛŒ : '..F.id_..'\n ğŸ“±Ø´Ù…Ø§Ø±Ù‡:\n <code>+'..F.phone_number_..'</code> \n ğŸ•°Ø²Ù…Ø§Ù† ØªØ§Ø®ÛŒØ± Ø¨ÛŒÙ† Ø§Ø±Ø³Ø§Ù„Ù‡Ø§: '..(db:get('sec'..bot_id)or 1)..'Ø«Ø§Ù†ÛŒÙ‡ \nğŸŒØ§ÛŒÙ¾ÛŒ Ø³Ø±ÙˆØ±:\n '..ip..'\n\n ğŸ“®version: GapChi(0:|)\nâ˜˜ï¸ @Sin_Chi ğŸŒ¿',1,'html')end;tdcli_function({ID="GetMe"},lkj,nil)elseif m=='autobc off'then db:set('autobcs'..bot_id,'off')bot.sendMessage(d.chat_id_,d.id_,1,'ÙØ±ÙˆØ§Ø±Ø¯ Ø§ØªÙˆÙ…Ø§ØªÛŒÚ© Ø®Ø§Ù…ÙˆØ´ Ø´Ø¯âœ”ï¸','md')elseif m=='serverinfo'then local m=io.popen("sh ./servinfo.sh"):read('*all')bot.sendMessage(d.chat_id_,d.id_,1,m,1,'html')elseif m:match('^add abc')and tonumber(d.reply_to_message_id_)>0 then db:sadd('autoposterm'..bot_id,tonumber(d.reply_to_message_id_))db:set('gp'..tonumber(d.reply_to_message_id_)..bot_id,d.chat_id_)bot.sendMessage(d.chat_id_,d.id_,1,'Ù¾Ø³Øª Ø¨Ù‡ Ø§Ø±Ø³Ø§Ù„ Ù‡Ø§ÛŒ Ø§ØªÙˆÙ…Ø§ØªÛŒÚ© Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯âœ…',1,'html')elseif m=='addc'and tonumber(d.reply_to_message_id_)>0 then function cb(H,i,l)bot.importContacts(i.content_.contact_.phone_number_,i.content_.contact_.first_name_,i.content_.contact_.last_name_,i.content_.contact_.user_id_)bot.sendMessage(i.chat_id_,i.id_,1,'Ú©Ø§Ø±Ø¨Ø± Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø± Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø§Ø¯ Ø´Ø¯','md')end;bot.getMessage(d.chat_id_,tonumber(d.reply_to_message_id_),cb)elseif m:match('^autobc (%d+)[mh]')then local q=m:match('^autobc (.*)')if q:match('(%d+)h')then time_match=q:match('(%d+)h')time=time_match*3600 end;if q:match('(%d+)m')then time_match=q:match('(%d+)m')time=time_match*60 end;db:setex('timera'..bot_id,time,true)db:set('autobctime'..bot_id,tonumber(time))db:set("autobcs"..bot_id,"on")bot.sendMessage(d.chat_id_,d.id_,1,'â—½ï¸ØªØ§ÛŒÙ…Ø± ÙØ±ÙˆØ§Ø±Ø¯ Ø§ØªÙˆÙ…Ø§ØªÛŒÚ© Ø¨Ø±Ø§ÛŒ '..time..'Ø«Ø§Ù†ÛŒÙ‡ ÙØ¹Ø§Ù„ Ø´Ø¯âœ”ï¸','md')elseif m=='remlinks'then db:del('links'..bot_id)bot.sendMessage(d.chat_id_,d.id_,1,'Ù„ÛŒÙ†Ú© Ù‡Ø§ÛŒ Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯Ù‡ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ù¾Ø§Ú© Ø´Ø¯Ù†Ø¯âœ”ï¸ \nğŸ–¤ @Sin_chi ğŸ–¤',1,'html')elseif m=='remgp'then db:del('bc'..bot_id)bot.sendMessage(d.chat_id_,d.id_,1,'Ù‡Ù…Ù‡ Ú¯Ø±ÙˆÙ‡ Ù‡Ø§ Ø§Ø² Ø¯ÛŒØªØ§Ø¨ÛŒØ³ Ø­Ø°Ù Ø´Ø¯Ù†Ø¯âœ… \nğŸ’  @Sin_chi','md')elseif m=='remall abc'then db:del('autoposterm'..bot_id)bot.sendMessage(d.chat_id_,d.id_,1,'ğŸ”´Ù‡Ù…Ù‡ Ù¾Ø³Øª Ù‡Ø§ÛŒ ÙØ±ÙˆØ§Ø±Ø¯ Ø§ØªÙˆÙ…Ø§ØªÛŒÚ© Ù¾Ø§Ú© Ø´Ø¯Ù†Ø¯â—ï¸','md')elseif m=='rem users'then db:del('users'..bot_id)bot.sendMessage(d.chat_id_,d.id_,1,'ğŸ”¸ÛŒÙˆØ²Ø± Ù‡Ø§ Ø§Ø² Ø¯ÛŒØªØ§Ø¨ÛŒØ³ Ù¾Ø§Ú© Ø´Ø¯Ù†Ø¯!','md')elseif m=='remelinks'then db:del('elinks'..bot_id)bot.sendMessage(d.chat_id_,d.id_,1,'ğŸ”¸Ù„ÛŒÙ†Ú© Ù‡Ø§ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø´Ø¯Ù‡ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø­Ø°Ù Ø´Ø¯Ù†Ø¯â—ï¸\nğŸŒ€@Sin_Chi',1,'html')elseif m=='gpcheck'then local I=db:scard('bc'..bot_id)function checkm(b,c,F)if c.ID=='Error'then db:srem('bc'..bot_id,b.chatid)end end;function sendresult()bot.sendMessage(d.chat_id_,d.id_,1,'Ú¯Ø±ÙˆÙ‡ Ù‡Ø§ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ú†Ú© Ø´Ø¯Ù†Ø¯âœ…\nğŸ”¸Ø¨Ø±Ø§ÛŒ Ù…Ø´Ø§Ù‡Ø¯Ù‡ ØªØ¹Ø¯Ø§Ø¯ Ú¯Ø±ÙˆÙ‡ Ù‡Ø§ÛŒ ÙØ¹Ù„ÛŒ Ø§Ø² Ø¯Ø³ØªÙˆØ± panel Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯â—ï¸\nğŸ’ '..string.char(64,83,105,110,95,67,104,105),1,'html')end;local k=db:smembers('bc'..bot_id)for l,f in pairs(k)do tdcli_function({ID="GetChatHistory",chat_id_=f,from_message_id_=0,offset_=0,limit_=1},checkm,{chatid=f})if I==l then sendresult()end end elseif m:match('^autom (.*)')then local J=m:match('autom (.*)')if J=='off'then db:set('autom'..bot_id,'off')bot.sendMessage(d.chat_id_,d.id_,1,'Ù¾Ø§Ø³Ø®Ú¯ÙˆÛŒ Ø®ÙˆØ¯Ú©Ø§Ø± Ø®Ø§Ù…ÙˆØ´ Ø´Ø¯','md')elseif J=='on'then db:set('autom'..bot_id,'on')bot.sendMessage(d.chat_id_,d.id_,1,'Ù¾Ø§Ø³Ø®Ú¯ÙˆÛŒ Ø®ÙˆØ¯Ú©Ø§Ø± Ø±ÙˆØ´Ù† Ø´Ø¯','md')end elseif m:match('^join (.*)')then local J=m:match('join (.*)')if J=='off'then db:set('joinl'..bot_id,'off')bot.sendMessage(d.chat_id_,d.id_,1,'Ø±Ø¨Ø§Øª Ø¯ÛŒÚ¯Ø± Ø¯Ø± Ù‡ÛŒÚ† Ú¯Ø±ÙˆÙ‡ÛŒ Ø¹Ø¶Ùˆ Ù†Ù…ÛŒØ´ÙˆØ¯','md')elseif J=='on'then db:set('joinl'..bot_id,'on')bot.sendMessage(d.chat_id_,d.id_,1,'Ø±Ø¨Ø§Øª Ø´Ø±ÙˆØ¹ Ø¨Ù‡ Ø¬ÙˆÛŒÙ† Ø¯Ø± Ú¯Ø±ÙˆÙ‡ Ù‡Ø§ Ú©Ø±Ø¯','md')end elseif m:match("^setsec (%d+)")then local K=tonumber(m:match('setsec (.*)'))if K==0 then db:set('sec'..bot_id,1)else db:set('sec'..bot_id,K)end;bot.sendMessage(d.chat_id_,d.id_,1,'ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø¨Ù‡ '..K..'Ø«Ø§Ù†ÛŒÙ‡ ØªØºÛŒÛŒØ± Ú©Ø±Ø¯!','md')elseif m=='exlinks'then local x=db:smembers('users'..bot_id)function lkj(h,i,j)if i.ID=='Error'then db:srem("user"..bot_id,h.usr)end end;local L=''for l,f in pairs(db:smembers('elinks'..bot_id))do L=L..f..'\n'end;for l,f in pairs(db:smembers('link'..bot_id))do L=L..f..'\n'end;bot.sendMessage(d.chat_id_,d.id_,1,L,'md')elseif m=='promote'and tonumber(d.reply_to_message_id_)~=0 then function prom_reply(n,o,p)db:sadd('mods'..bot_id,o.sender_user_id_)local g=o.sender_user_id_;bot.sendMessage(d.chat_id_,d.id_,1,'<code>'..g..'</code><b> Ù…Ø¯ÛŒØ± Ø±Ø¨Ø§Øª Ø´Ø¯!!</b>',1,'html')end;bot.getMessage(d.chat_id_,tonumber(d.reply_to_message_id_),prom_reply)elseif m:match('^promote @(.*)')then local M=m:match('^promote @(.*)')function promreply(n,o,p)if o.id_ then db:sadd('mods'..bot_id,o.id_)m='<code>'..o.id_..'</code><b> Ù…Ø¯ÛŒØ± Ø±Ø¨Ø§Øª Ø´Ø¯!!</b>'else m='<i>Ú©Ø§Ø±Ø¨Ø± ÛŒØ§ÙØª Ù†Ø´Ø¯</i>'end;bot.sendMessage(d.chat_id_,d.id_,1,m,1,'html')end;bot.resolve_username(M,promreply)elseif m:match('^addall')then if m:match('^addall @(.*)')then local M=m:match('^addall @(.*)')function promreply(n,o,p)if o.id_ then local k=db:smembers('bc'..bot_id)for l,f in pairs(k)do tdcli_function({ID="AddChatMember",chat_id_=f,user_id_=o.id_,forward_limit_=50},dl_cb,nil)end;db:sadd('mods'..bot_id,o.id_)m='<code>'..o.id_..'</code><b>Ø¨Ù‡ ØªÙ…Ø§Ù…ÛŒ Ú¯Ø±ÙˆÙ‡ Ù‡Ø§ÛŒ Ø±Ø¨Ø§Øª Ø§Ø¯ Ø´Ø¯!!</b>'else m='<i>Ú©Ø§Ø±Ø¨Ø± ÛŒØ§ÙØª Ù†Ø´Ø¯</i>'end;bot.sendMessage(d.chat_id_,d.id_,1,m,1,'html')end;bot.resolve_username(M,promreply)elseif m=='addall'and tonumber(d.reply_to_message_id_)~=0 then function prom_reply(n,o,p)local k=db:smembers('bc'..bot_id)for l,f in pairs(k)do tdcli_function({ID="AddChatMember",chat_id_=f,user_id_=o.sender_user_id_,forward_limit_=50},dl_cb,nil)end;bot.sendMessage(d.chat_id_,d.id_,1,'<code>'..o.sender_user_id_..'</code><b> Ø§Ú©Ø§Ù†Øª Ù…ÙˆØ±Ø¯Ù†Ø¸Ø± Ø¨Ù‡ ØªÙ…Ø§Ù…ÛŒ Ú¯Ø±ÙˆÙ‡ Ù‡Ø§ÛŒ Ø±Ø¨Ø§Øª Ø§Ø¯ Ø´Ø¯!!</b>',1,'html')end;bot.getMessage(d.chat_id_,tonumber(d.reply_to_message_id_),prom_reply)elseif m:match('^addall (%d+)')then local N=m:match('addall (.*)')local k=db:smembers('bc'..bot_id)for l,f in pairs(k)do tdcli_function({ID="AddChatMember",chat_id_=f,user_id_=N,forward_limit_=50},dl_cb,nil)end;bot.sendMessage(d.chat_id_,d.id_,1,'Ú©Ø§Ø±Ø¨Ø± Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø± Ø¨Ù‡ ØªÙ…Ø§Ù…ÛŒ Ú¯Ø±ÙˆÙ‡ Ù‡Ø§Ù… Ø§Ø¯ Ø´Ø¯!',1,'html')end elseif m:match('^promote (%d+)')then local g=m:match('promote (%d+)')db:sadd('mods'..bot_id,g)bot.sendMessage(d.chat_id_,d.id_,1,'Ú©Ø§Ø±Ø¨Ø±(<code>'..g..'</code>)<b> Ù…Ø¯ÛŒØ± Ø§ÛŒÙ† Ø±Ø¨Ø§Øª Ø´Ø¯!!</b>',1,'html')elseif m=='demote'and tonumber(d.reply_to_message_id_)~=0 then function prom_reply(n,o,p)db:srem('mods'..bot_id,o.sender_user_id_)bot.sendMessage(d.chat_id_,d.id_,1,'<code>'..o.sender_user_id_..'</code><b> Ø§Ø² Ù„ÛŒØ³Øª Ù…Ø¯ÛŒØ±ÛŒØª Ø­Ø°Ù Ø´Ø¯!!</b>',1,'html')end;bot.getMessage(d.chat_id_,tonumber(d.reply_to_message_id_),prom_reply)elseif m:match('^demote @(.*)')then local M=m:match('^demote @(.*)')function demreply(n,o,p)if o.id_ then db:srem('mods'..bot_id,o.id_)m='Ú©Ø§Ø±Ø¨Ø± (<code>'..o.id_..'</code>) Ø§Ø² Ù„ÛŒØ³Øª Ù…Ø¯ÛŒØ±Ø§Ù† Ø­Ø°Ù Ø´Ø¯!'else m='<i>Ú©Ø§Ø±Ø¨Ø± ÛŒØ§ÙØª Ù†Ø´Ø¯!</i>'end;bot.sendMessage(d.chat_id_,d.id_,1,m,1,'html')end;bot.resolve_username(M,demreply)elseif m:match('^demote (%d+)')then local g=m:match('demote (%d+)')db:srem('mods'..bot_id,g)bot.sendMessage(d.chat_id_,d.id_,1,'Ú©Ø§Ø±Ø¨Ø± (<code>'..g..'</code>)<b> Ø§Ø² Ù„ÛŒØ³Øª Ù…Ø¯ÛŒØ±ÛŒØª Ø­Ø°Ù Ø´Ø¯!!</b>',1,'html')elseif m:match("^setphoto (.*)$")then local O={string.match(m,"^(setphoto) (.*)$")}local P=os.clock()local http=require("socket.http")local Q,R=http.request(O[2])if not Q then error(R)end;local S=assert(io.open(P..'photo.jpg','wb'))S:write(Q)S:close()bot.setProfilePhoto(P..'photo.jpg')bot.sendMessage(d.chat_id_,d.id_,1,'Ø¹Ú©Ø³ Ø¬Ø¯ÛŒØ¯ ØªÙ†Ø¸ÛŒÙ… Ø´Ø¯âœ”ï¸','md')elseif m=='admins'then local h=db:smembers('mods'..bot_id)local T='Ù„ÛŒØ³Øª Ù…Ø¯ÛŒØ±Ø§Ù† Ø±Ø¨Ø§Øª : \n'for U=1,#h do T=T..U..'-  '..h[U]..'\n'end;T=T..'\n @Sin_Chi'bot.sendMessage(d.chat_id_,d.id_,1,T,'md')elseif m:match("^start @(.*)")then local M=m:match('^start @(.*)')function promreply(n,o,p)if o.id_ then tdcli_function({ID="SendBotStartMessage",bot_user_id_=o.id_,chat_id_=o.id_,parameter_='start'},dl_cb,nil)db:sadd('mods'..bot_id,o.id_)m='<code>'..o.id_..'</code><b>Ø¯Ø±Ø§Ú©Ø§Ù†Øª Ø§Ø³ØªØ§Ø±Øª Ø®ÙˆØ±Ø¯!</b>'else m='<i>Ú©Ø§Ø±Ø¨Ø± ÛŒØ§ÙØª Ù†Ø´Ø¯</i>'end;bot.sendMessage(d.chat_id_,d.id_,1,m,1,'html')end;bot.resolve_username(M,promreply)elseif m=='addmembers'then local k=db:smembers('users'..bot_id)for l,f in pairs(k)do tdcli_function({ID="AddChatMember",chat_id_=d.chat_id_,user_id_=f,forward_limit_=50},dl_cb,nil)end end end end end;function tdcli_update_callback(c)if c.ID=="UpdateNewMessage"then run(c.message_,c)elseif c.ID=="UpdateOption"and c.name_=="my_id"then tdcli_function({ID="GetChats",offset_order_="9223372036854775807",offset_chat_id_=0,limit_=20},dl_cb,nil)end end
